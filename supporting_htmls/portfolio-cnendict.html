<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>Brian Sun's Webspace</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' href='../css/styles-portfolio.css'>
    <script defer type="text/javascript" src='../js/script-portfolio.js'></script>
</head>
<body>
    <div class="headerbar">

        <div class="navigation">
            <div class="navigation-home">
                <a href="../index.html">Main</a>
            </div>

            <div class="navigation-about">
                <a href="../about.html">About</a>
            </div>
        </div>

        <div class="profiles">
            <div class="header-photos">
                <a href="https://github.com/bsun94" target="github">
                    <img class="github" src="../images/index-header-github.jpg">
                </a>
            </div>

            <div class="header-photos">
                <a href="https://www.linkedin.com/in/bsun-to/" target="linkedin">
                    <img class="linkedin" src="../images/index-header-linkedin.jpg">
                </a>
            </div>
        </div>

    </div>

    <div class="frame" >
        <div class="frame-anchor">
            <a id="simple-twitter">A Full-Stack Chinese Web Dictionary</a>
        </div>

        <div class="frame-exhibit">
            <iframe class="iframe" src="https://master.d3bpdh4bmdckfp.amplifyapp.com/"></iframe>
        </div>

        <div class="frame-exhibit">
            <div class="text">
                While using a French dictionary to look up some words I didn't know in a French newspaper article (in <i>Le Monde</i>, France's national newspaper), I had the sudden idea for a full-stack project: to build a Chinese-English dictionary. I'd previously found a decent online Chinese dictionary to use, but it was only Chinese-Chinese (i.e. Chinese definitions for Chinese words/characters), and not Chinese-English. I decided to build the latter myself, and to learn React in the process. I've embedded the final product above, but you can also <a href="https://master.d3bpdh4bmdckfp.amplifyapp.com/" target="_cnendict">click here</a> to go to my dictionary web app's page.
                <br><br>
                The first step was to find data on Chinese characters and their English definitions - I had, admittedly, not spent all the free time in my life translating each and every single Chinese character. Conveniently, a person by the name of Paul Denisowski had been collecting <a href="https://www.mdbg.net/chinese/dictionary?page=cc-cedict" target="_mdbg">such data</a> since 1997 and has published it online. Inconveniently, he'd stored all his translations in a .u8 file - opening this file with Text Editor takes a good couple of minutes. Paul included on the site's page work done by somebody by the name of Franki Allegra to parse the .u8 file; however, Franki's script (whether by design or not) ignores all definitions after the first for every character, which wasn't ideal, and only outputs the data to JSON. I wrote my own Python script, using a bit of Franki's parser, which was able to parse every single definition for each character, and subsequently built a .db file based on the end, parsed data.
                <br><br>
                The frontend of the dictionary was built in React. After downloading/installing Node.js, I kicked off an installation of a React app instance, and went with building. I modularized different parts of my web app's webpage, using React functional components for the more static parts like the main header (that says "Chinese-English dictionary"). To handle API calls to my server (described below) and fetch responses, I used a class component with functions to receive the user's input (CN characters to be searched), make an API call, fetch the response asynchronously (and handle errors), <i>update the class's state when a definition arrived in an API response</i>, and pass on the definition data as props into another functional component which handled the display of the definitions. This last piece was modularized on its own so that it'll be easier to edit should I ever want to tinker with the structure and formatting of the definitions output.
                <br><br>
                As for the backend, I used Python's Flask module to build a pretty fundamental API server, which takes in a Chinese character requested, looks it up in the database I'd described above, and then returns the result in a response. Right now, the server pretty much just handles GET requests (for definitions); I'm hesitant to introduce any sort of POST request capability at the moment (e.g. if I just allowed anyone to suggest a new definition to a character as a POST, or a new Chinese character to be defined overall, I have a feeling I'd be leaving myself open to trolling without having access to human reviewers).
                <br><br>
                Everything at this point was working locally; the final step was to host it all online. For the React components, I used AWS's Amplify, which is actually based on Git repos - I set up a repo for this project, and in the build settings yaml of my AWS Amplify instance, specified how to navigate to my React app's directory, and then build up and deployed the app. For my Python Flask API server, I used AWS Elastic Beanstalk. AWS EB was a bit more involved, as you had to initialize an EB repo on your local machine to then upload to EB for the first build (as per their documentation), and the AWS EB shell function took a while to install. You also had to zip all your server-related files to upload to AWS EB every time you wanted to update the instance.
                <br><br>
                At this point, I was running into problems with HTTP. Essentially, AWS Amplify hosted my React page on HTTPS, while EB hosted my server on HTTP. Modern browsers don't like such so-called "mixed content", so I had to get my EB to be hosted on HTTPS. An SSL certificate is required to host with HTTPS, and to get one on Amazon, you pretty much had to get a domain name (so Jeff Bezos made an extra $12 off of me this year) with AWS Route 53 and route that domain name to your EB instance, certify the domain with Amazon Certificate Manager, and establish a new listener in your EB instance which uses HTTPS using your new SSL certificate approved by Amazon CM. Surprisingly (or not), it took me longer to get everything done on Amazon than to code my actual React app frontend.
                <br><br>
                <a href="https://github.com/bsun94/ChineseDictionary" target="_gitcnen">Click here to see all my code and content files for this project on Github.</a>
            </div>
        </div>
        
    </div>

</body>
</html>